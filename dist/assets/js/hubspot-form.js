$('form[action^="https://api.hsforms.com"]').each((function(e){$(this).find("input[type=checkbox]").val("true"),$(this).submit((function(e){e.preventDefault();const n=[...new FormData(e.target).entries()].map((e=>({name:e[0],value:e[1]}))),t=n.find((e=>"goToWebinarWebinarKey"===e.name))?.value,o=n.find((e=>"sfdcCampaignId"===e.name))?.value,a=document.cookie.replace(/(?:(?:^|.*;\s*)hubspotutk\s*\=\s*([^;]*).*$)|^.*$/,"$1")||void 0;console.log(a);const i=$(this).find("[id*='gdpr-processing-prompt']"),s=n.filter((e=>e.name.includes("LEGAL_CONSENT"))).map((e=>{const n=$(`#${e.name.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}`)[0],t=$("span[for='"+$(n).attr("id").replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")+"']");return{value:n.checked,text:t.text(),subscriptionTypeId:parseInt(e.name.split("LEGAL_CONSENT.subscription_type_")[1])}})),c=["cc-num","cc-number","gdpr","LEGAL_CONSENT","goToWebinarWebinarKey","sfdcCampaignId"],r={fields:n.filter((e=>!c.find((n=>e.name.includes(n))))),context:{pageUri:window.location.href,pageName:document.title,sfdcCampaignId:o,goToWebinarKey:t,hutk:a},...i?{legalConsentOptions:{consent:{...i?{consentToProcess:!0,text:i.text()}:{},...s?{communications:s}:{}}}}:{}},p=JSON.stringify(r);$.ajax({url:e.target.action,type:"POST",dataType:"json",data:p,contentType:"application/json;charset=utf-8",accept:"application/json",success:function(n){if(n&&n.inlineMessage){$(e.target).parent().children(".w-form-done").show()}},error:function(){console.log("error on the form submission"),$(e.target).css("display","none").siblings(".w-form-fail").show()}})}))}));
//# sourceMappingURL=hubspot-form.js.map
