{"version":3,"file":"multiselect.js","names":["select","document","querySelector","selectOptions","querySelectorAll","newSelect","createElement","classList","add","active","optionList","placeholder","dataset","span","innerText","appendChild","forEach","option","text","selected","tag","value","innerHTML","item","arrow","parentElement","append","addEventListener","e","li","target","closest","contains","previousElementSibling","nextElementSibling","a","setAttribute","setTimeout","styles","window","getComputedStyle","liHeight","height","liPadding","padding","animate","duration","easing","onfinish","remove","className","selectEl","removeAttribute","deltaWidth","width","deltaHeight","removeOption","selectedOptions","length","el","toggle"],"sources":["multiselect.js"],"mappings":"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","sourcesContent":["var select = document.querySelector('select[multiple]');\r\nvar selectOptions = select.querySelectorAll('option');\r\n\r\nvar newSelect = document.createElement('div');\r\nnewSelect.classList.add('selectMultiple');\r\nvar active = document.createElement('div');\r\nactive.classList.add('active');\r\nvar optionList = document.createElement('ul');\r\nvar placeholder = select.dataset.placeholder;\r\n\r\nvar span = document.createElement('span');\r\nspan.innerText = placeholder;\r\nactive.appendChild(span);\r\n\r\nselectOptions.forEach((option) => {\r\n\tlet text = option.innerText;\r\n\tif(option.selected){\r\n\t\tlet tag = document.createElement('a');\r\n        tag.dataset.value = option.value;\r\n\t\ttag.innerHTML = \"<em>\"+text+\"</em><i></i>\";\r\n\t\tactive.appendChild(tag);\r\n\t\tspan.classList.add('hide');\r\n\t}else{\r\n\t\tlet item = document.createElement('li');\r\n        item.dataset.value = option.value;\r\n\t\titem.innerHTML = text;\r\n\t\toptionList.appendChild(item);\r\n\t}\r\n});\r\nvar arrow = document.createElement('div');\r\narrow.classList.add('arrow');\r\nactive.appendChild(arrow);\r\n\r\nnewSelect.appendChild(active);\r\nnewSelect.appendChild(optionList);\r\n\r\nselect.parentElement.append(newSelect);\r\nspan.appendChild(select);\r\n\r\n// newSelect.appendChild(select);\r\n//select.style.display = \"none\";\r\n//1\r\n//document.querySelectorAll('.selectMultiple ul li').forEach((li) => {\r\ndocument.querySelector('.selectMultiple ul').addEventListener('click', (e) => {\r\n    let li = e.target.closest('li');\r\n    if(!li){return;}\r\n    let select = li.closest('.selectMultiple');\r\n    if(!select.classList.contains('clicked')){\r\n        select.classList.add('clicked');\r\n        if(li.previousElementSibling){\r\n            li.previousElementSibling.classList.add('beforeRemove');\r\n        }\r\n        if(li.nextElementSibling){\r\n            li.nextElementSibling.classList.add('afterRemove');\r\n        }\r\n        li.classList.add('remove');\r\n        let a = document.createElement('a');\r\n        a.dataset.value = li.dataset.value;\r\n        a.innerHTML = \"<em>\"+li.innerText+\"</em><i></i>\";\r\n        a.classList.add('notShown');\r\n        // a.style.display = \"none\";\r\n        select.querySelector('div').appendChild(a); //might have to check later\r\n        let selectEl = select.querySelector('select');\r\n        let opt = selectEl.querySelector('option[value=\"'+li.dataset.value+'\"]');\r\n        opt.setAttribute('selected', 'selected');\r\n        setTimeout(() => {\r\n            a.classList.add('shown');\r\n            select.querySelector('span').classList.add('hide');\r\n            // if(select.querySelector('option').innerText == li.innerText){\r\n            // \tselect.querySelector('option').selected\r\n            // }\r\n\r\n        }, 300);\r\n        //1st\r\n        setTimeout(() => {\r\n            let styles = window.getComputedStyle(li);\r\n                let liHeight = styles.height;\r\n                let liPadding = styles.padding;\r\n                let removing = li.animate([\r\n                    {\r\n                        height: liHeight,\r\n                        padding: liPadding\r\n                    },\r\n                    {\r\n                        height: '0px',\r\n                        padding: '0px'\r\n                    }\r\n                ], {\r\n                    duration: 300, easing: 'ease-in-out'\r\n                });\r\n                removing.onfinish = () => {\r\n                    if(li.previousElementSibling){\r\n                        li.previousElementSibling.classList.remove('beforeRemove');\r\n                    }\r\n                    if(li.nextElementSibling){\r\n                        li.nextElementSibling.classList.remove('afterRemove');\r\n                    }\r\n                    li.remove();\r\n                    select.classList.remove('clicked');\r\n                }\r\n//             setTimeout(() => {\r\n//                 if(li.previousElementSibling){\r\n//                     li.previousElementSibling.classList.remove('beforeRemove');\r\n//                 }\r\n//                 if(li.nextElementSibling){\r\n//                     li.nextElementSibling.classList.remove('afterRemove');\r\n//                 }\r\n                \r\n//             }, 200);\r\n        }, 300); //600\r\n\t\t\t//2nd\r\n    }\r\n});\r\n//2\r\n//document.querySelectorAll('.selectMultiple > div a').forEach((a) => {\r\ndocument.querySelector('.selectMultiple > div').addEventListener('click', (e) => {\r\n    let a = e.target.closest('a');\r\n    let select = e.target.closest('.selectMultiple');\r\n    if(!a){return;}\r\n    a.className = '';\r\n    a.classList.add('remove');\r\n    select.classList.add('open');\r\n    let selectEl = select.querySelector('select');\r\n    let opt = selectEl.querySelector('option[value=\"'+a.dataset.value+'\"]');\r\n    opt.removeAttribute('selected');\r\n    //setTimeout(() => {\r\n        a.classList.add('disappear');\r\n        setTimeout(() => {\r\n            // start animation\r\n            let styles = window.getComputedStyle(a);\r\n            let padding = styles.padding;\r\n            let deltaWidth = styles.width;\r\n            let deltaHeight = styles.height;\r\n\r\n            let removeOption = a.animate([\r\n                {\r\n                    width: deltaWidth,\r\n                    height: deltaHeight,\r\n                    padding: padding\r\n                },\r\n                {\r\n                    width: '0px',\r\n                    height: '0px',\r\n                    padding: '0px'\r\n                }\r\n            ], {\r\n                duration: 0,\r\n                easing: 'ease-in-out'\r\n            });\r\n            \r\n            let li = document.createElement('li');\r\n            li.dataset.value = a.dataset.value;\r\n            li.innerText = a.querySelector('em').innerText;\r\n            li.classList.add('show');\r\n            select.querySelector('ul').appendChild(li);\r\n            setTimeout(() => {\r\n                if(!selectEl.selectedOptions.length){\r\n                    select.querySelector('span').classList.remove('hide');\r\n                }\r\n                li.className = '';\r\n            }, 350);\r\n            \r\n            removeOption.onfinish = () => {\r\n                a.remove();\r\n            }\r\n            //end animation\r\n\r\n        }, 300);\r\n    //}, 400);\r\n});\r\n//});\r\n//3\r\ndocument.querySelectorAll('.selectMultiple > div .arrow, .selectMultiple > div span').forEach((el) => {\r\n\tel.addEventListener('click', (e) => {\r\n\t\tel.closest('.selectMultiple').classList.toggle('open');\r\n\t});\r\n});"]}