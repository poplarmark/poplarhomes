$('form[action^="https://api.hsforms.com"]').each((function(e){$(this).find("input[type=checkbox]").val("true"),$(this).submit((function(e){e.preventDefault();const t=document.querySelector("form"),n=$(this),a=$("[type=submit]",n),o=a.val(),i=a.attr("data-wait"),s=[...new FormData(e.target).entries()].map((e=>({name:e[0],value:e[1]}))),c=s.find((e=>"goToWebinarWebinarKey"===e.name))?.value,r=s.find((e=>"sfdcCampaignId"===e.name))?.value,p=document.cookie.replace(/(?:(?:^|.*;\s*)hubspotutk\s*\=\s*([^;]*).*$)|^.*$/,"$1")||void 0;console.log(p);const l=$(this).find("[id*='gdpr-processing-prompt']"),m=s.filter((e=>e.name.includes("LEGAL_CONSENT"))).map((e=>{const t=$(`#${e.name.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}`)[0],n=$("span[for='"+$(t).attr("id").replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")+"']");return{value:t.checked,text:n.text(),subscriptionTypeId:parseInt(e.name.split("LEGAL_CONSENT.subscription_type_")[1])}})),u=["cc-num","cc-number","gdpr","LEGAL_CONSENT","goToWebinarWebinarKey","sfdcCampaignId"],d={fields:s.filter((e=>!u.find((t=>e.name.includes(t))))),context:{pageUri:window.location.href,pageName:document.title,sfdcCampaignId:r,goToWebinarKey:c,hutk:p},...l?{legalConsentOptions:{consent:{...l?{consentToProcess:!0,text:l.text()}:{},...m?{communications:m}:{}}}}:{}};i&&a.val(i);const f=JSON.stringify(d);$.ajax({url:e.target.action,type:"POST",dataType:"json",data:f,contentType:"application/json;charset=utf-8",accept:"application/json",success:function(n){if(n&&n.inlineMessage){const n=$(e.target).parent();a.val(o),t.reset(),n.children(".w-form-done").show()}},error:function(){console.log("error on the form submission"),a.val(o),$(e.target).css("display","none").siblings(".w-form-fail").show()}})}))})),phoneFormat();
//# sourceMappingURL=hubspot-form.min.js.map
